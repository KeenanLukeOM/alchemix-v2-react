import{u as E,n as L,o as V,p as I,q,r as F,t as Q,I as K,v as U,x as W,y as $,z as O,Q as v,j as e,L as D,A as G,C as o,D as c,E as m,F as z,G as Y,c as B,P as H}from"./index-DFlVJ-2R.js";const N=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"alchemistAddress",type:"address"},{indexed:!1,internalType:"bool",name:"isPaused",type:"bool"}],name:"AlchemistPaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"SENTINEL_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"burnFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"ceiling",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"hasMinted",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"lowerHasMinted",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_recipient",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_toPause",type:"address"},{internalType:"bool",name:"_state",type:"bool"}],name:"pauseAlchemist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_toSetCeiling",type:"address"},{internalType:"uint256",name:"_ceiling",type:"uint256"}],name:"setCeiling",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newSentinel",type:"address"}],name:"setSentinel",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_toWhitelist",type:"address"},{internalType:"bool",name:"_state",type:"bool"}],name:"setWhitelist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"whiteList",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],J=()=>{const s=E(),l=L(),M=V(),{data:b,isPending:w}=I(),{data:a}=q(),{data:d,isPending:A,queryKey:x}=F({allowFailure:!1,contracts:a==null?void 0:a.map(({debtToken:t})=>({address:t,abi:N,chainId:s.id,functionName:"paused",args:[t]})),query:{enabled:!!a}}),T=a?d==null?void 0:d.map((t,n)=>({paused:t,address:a[n].debtToken,label:a[n].synthType,alchemist:a[n].address})):[],{data:i,isPending:P}=Q(),h=i==null?void 0:i.filter(t=>!K.includes(t.address)),{data:p,isPending:k}=U(),f=p==null?void 0:p.map(t=>{const n=i==null?void 0:i.find(r=>r.underlyingToken.toLowerCase()===t.underlyingToken.toLowerCase());return{...t,tokenLabel:n==null?void 0:n.metadata.underlyingSymbol}}),u=w||A||P||k,{writeContract:y,data:R,reset:g}=W({mutation:M({action:"Sentinel"})}),{data:j}=$({hash:R});O.useEffect(()=>{j&&(l.invalidateQueries({queryKey:x}),l.invalidateQueries({queryKey:[v.Transmuters]}),l.invalidateQueries({queryKey:[v.Vaults]}),g())},[x,l,j,g]);const S=({address:t,alchemist:n,pause:r})=>{y({address:t,abi:N,chainId:s.id,functionName:"pauseAlchemist",args:[n,r]})},C=({address:t,pause:n})=>{y({address:t,abi:z,chainId:s.id,functionName:"setPause",args:[n]})},_=({yieldToken:t,alchemist:n,unpause:r})=>{y({address:n,abi:Y,chainId:s.id,functionName:"setYieldTokenEnabled",args:[t,r]})};return e.jsxs("div",{className:"relative rounded border border-grey10inverse bg-grey15inverse dark:border-grey10 dark:bg-grey15",children:[e.jsx("div",{className:"bg-grey10inverse px-6 py-4 dark:bg-grey10",children:e.jsx("h5",{className:"text-sm",children:"Alchemix Control Panel"})}),u&&e.jsx(D,{}),!u&&b&&e.jsx("div",{className:"space-y-4 p-4",children:e.jsxs(G,{type:"single",collapsible:!0,children:[e.jsxs(o,{value:"alTokens",className:"border-b-0",children:[e.jsx(c,{className:"bg-grey10inverse px-6 py-4 dark:bg-grey10",children:e.jsx("h5",{className:"text-sm",children:"Alchemists"})}),e.jsx(m,{className:"p-2",children:!!T&&T.map(t=>e.jsxs("div",{className:"flex items-center justify-between rounded p-2",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-sm",children:t.label}),e.jsx("a",{className:"font-alcxMono text-lg hover:underline",href:`${s.blockExplorers.default.url}/address/${t.address}`,target:"_blank",rel:"noreferrer",children:t.address})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-sm",children:"Status"}),e.jsx("p",{children:t.paused?e.jsx("span",{className:"text-red3",children:"Paused"}):e.jsx("span",{className:"text-green1",children:"Active"})})]}),e.jsx("button",{className:"rounded border border-red1 bg-red5 px-4 py-2 transition-all hover:bg-red3",onClick:()=>S({pause:!t.paused,address:t.address,alchemist:t.alchemist}),children:t.paused?"Unpause":"Pause"})]},t.address))})]}),e.jsxs(o,{value:"transmuters",className:"border-b-0",children:[e.jsx(c,{className:"bg-grey10inverse px-6 py-4 dark:bg-grey10",children:e.jsx("h5",{className:"text-sm",children:"Transmuters"})}),e.jsx(m,{className:"p-2",children:f&&f.map(t=>e.jsxs("div",{className:"flex items-center justify-between rounded p-2",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-sm",children:"Token"}),e.jsx("p",{className:"text-lg",children:t.tokenLabel})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm",children:"Status"}),e.jsx("p",{children:t.isPaused?e.jsx("span",{className:"text-red3",children:"Paused"}):e.jsx("span",{className:"text-green1",children:"Active"})})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-sm",children:t.metadata.label}),e.jsx("a",{className:"font-alcxMono text-lg hover:underline",href:`${s.blockExplorers.default.url}/address/${t.address}`,target:"_blank",rel:"noreferrer",children:t.address})]}),e.jsx("button",{className:"rounded border border-red1 bg-red5 px-4 py-2 transition-all hover:bg-red3",onClick:()=>C({pause:!t.isPaused,address:t.address}),children:t.isPaused?"Unpause":"Pause"})]},t.address))})]}),e.jsxs(o,{value:"vaults",className:"border-b-0",children:[e.jsx(c,{className:"bg-grey10inverse px-6 py-4 dark:bg-grey10",children:e.jsx("h5",{className:"text-sm",children:"Vaults"})}),e.jsx(m,{className:"p-2",children:h&&h.map(t=>e.jsxs("div",{className:"flex items-center justify-between rounded p-2",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-sm",children:"Alchemist"}),e.jsx("p",{children:t.alchemist.synthType})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm",children:"Status"}),e.jsx("p",{children:t.yieldTokenParams.enabled?e.jsx("span",{className:"text-green1",children:"Active"}):e.jsx("span",{className:"text-red3",children:"Paused"})})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-sm",children:t.metadata.label}),e.jsx("a",{className:"font-alcxMono text-lg hover:underline",href:`${s.blockExplorers.default.url}/address/${t.address}`,target:"_blank",rel:"noreferrer",children:t.address})]}),e.jsx("button",{className:"rounded border border-red1 bg-red5 px-4 py-2 transition-all hover:bg-red3",onClick:()=>_({unpause:!t.yieldTokenParams.enabled,yieldToken:t.yieldToken,alchemist:t.alchemist.address}),children:t.yieldTokenParams.enabled?"Pause":"Unpause"})]},t.address))})]})]})}),!u&&!b&&e.jsx("p",{children:"You are not the one."})]})},ee=B("/sentinel")({component:X});function X(){return e.jsx(H,{title:"Sentinel",description:"Senatus Populusque Romanus",iconUri:"/alchemix-v2-react/images/icons/sentinel.svg",children:e.jsx(J,{})})}export{ee as Route};
